{"version":3,"sources":["queries/Axios.js","queries/Countries.query.js","Layout.js","Header.js","Footer.js","Table.js","App.js","index.js"],"names":["instance","axios","create","baseURL","timeout","interceptors","response","use","a","console","log","data","error","Promise","reject","usePosts","useQuery","get","isLoading","usePost","id","useUpdatePost","queryClient","useQueryClient","useMutation","rec","put","onSuccess","invalidateQueries","isError","isSuccess","mutate","Layout","props","style","background","width","height","children","Header","outline","overflow","map","d","title","join","Footer","Form","React","lazy","Table","useState","showForm","setShowForm","toggleFormDisplay","useCallback","onClick","fallback","App","className","QueryClient","rootElement","document","getElementById","ReactDOM","render","client"],"mappings":"oRAEMA,E,OAAWC,EAAMC,OAAO,CAC5BC,QAAS,uCACTC,QAAS,MAGXJ,EAASK,aAAaC,SAASC,IAA/B,uCACE,WAAgBD,GAAhB,iBAAAE,EAAA,6DAGEC,QAAQC,IAAIJ,GAHd,SAIyBA,EAJzB,uBAIUK,EAJV,EAIUA,KAJV,kBAKSA,GALT,2CADF,uDAQE,SAAUC,GAGR,OAAOC,QAAQC,OAAOF,MAIXZ,QCnBA,SAASe,IACtB,MAAmCC,mBACjC,YADyC,sBAEzC,sBAAAR,EAAA,sEAAkBP,EAAMgB,IAAI,UAA5B,oFAEF,MAAO,CACLC,UALF,EAAQA,UAMNN,MANF,EAAmBA,MAOjBD,KAPF,EAA0BA,MAWrB,SAASQ,EAAQC,GACtB,MAAmCJ,mBACjC,WADyC,sBAEzC,sBAAAR,EAAA,sEAAkBP,EAAMgB,IAAN,iBAAoBG,IAAtC,oFAGF,MAAO,CACLF,UANF,EAAQA,UAONN,MAPF,EAAmBA,MAQjBD,KARF,EAA0BA,MAYrB,SAASU,EAAcD,EAAIT,GAChC,IAAMW,EAAcC,2BACpB,EAAyDC,uBACvD,SAACC,GAAD,OAASxB,EAAMyB,IAAN,iBAAoBN,GAAMK,KACnC,CACEE,UAAW,WACTL,EAAYM,kBAAkB,eAIpC,MAAO,CACLV,UATF,EAAQA,UAUNN,MAVF,EAAmBiB,QAWjBC,UAXF,EAAmCA,UAYjCnB,OACAoB,OAbF,EAA8CA,U,wHC9BjC,SAASC,EAAOC,GAC7B,OACE,qBAAKC,MAAO,CAAEC,WAAY,OAAQC,MAAO,OAAQC,OAAQ,SAAzD,SACGJ,EAAMK,W,YCAE,SAASC,IACtB,MAAmCxB,cAA3BG,EAAR,EAAQA,UAAWN,EAAnB,EAAmBA,MAAOD,EAA1B,EAA0BA,KAC1B,OACE,sBACEuB,MAAO,CACLE,MAAO,OACPC,OAAQ,QACRG,QAAS,iBACTC,SAAU,UALd,mBASG7B,EAAK,yBAAqBA,GAAU,KACpCM,EAAY,gBAAkBP,EAAK+B,KAAI,SAACC,GAAD,OAAOA,EAAEC,SAAOC,KAAK,QCdpD,SAASC,IACtB,MAAmC/B,cAA3BG,EAAR,EAAQA,UAAWN,EAAnB,EAAmBA,MAAOD,EAA1B,EAA0BA,KAC1B,OACE,sBACEuB,MAAO,CACLE,MAAO,OACPC,OAAQ,OACRG,QAAS,iBACTC,SAAU,UALd,mBASG7B,EAAK,yBAAqBA,GAAU,KACpCM,EAAY,gBAAkBP,EAAK+B,KAAI,SAACC,GAAD,OAAOA,EAAEC,SAAOC,KAAK,Q,YCd7DE,EAAOC,IAAMC,MAAK,kBAAM,gCACf,SAASC,IACtB,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAoBC,uBAAY,WACpCF,GAAaD,KACZ,CAACA,EAAUC,IACd,OACE,sBAAKnB,MAAO,CAAEE,MAAO,OAAQC,OAAQ,QAASG,QAAS,kBAAvD,kBAEE,wBAAQgB,QAASF,EAAjB,SACGF,EAAW,YAAc,cAE5B,cAAC,WAAD,CAAUK,SAAU,8CAApB,SACGL,EAAW,cAACL,EAAD,IAAW,UCThB,SAASW,IACtB,OACE,sBAAKC,UAAU,MAAf,UACE,qDACA,eAAC3B,EAAD,WACE,cAACO,EAAD,IACA,cAACO,EAAD,IACA,cAACI,EAAD,UCRR,IAAM5B,EAAc,IAAIsC,cAElBC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAAC,sBAAD,CAAqBC,OAAQ5C,EAA7B,SACE,cAACoC,EAAD,QAGJG,K","file":"static/js/main.87f7ad82.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://jsonplaceholder.typicode.com\",\n  timeout: 1000\n});\n\ninstance.interceptors.response.use(\n  async function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    console.log(response);\n    const { data } = await response;\n    return data;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\nexport default instance;\n","import { useQuery, useMutation, useQueryClient } from \"react-query\";\nimport axios from \"./Axios\";\n\nexport default function usePosts() {\n  const { isLoading, error, data } = useQuery(\n    \"postsData\",\n    async () => await axios.get(\"/posts\")\n  );\n  return {\n    isLoading,\n    error,\n    data\n  };\n}\n\nexport function usePost(id) {\n  const { isLoading, error, data } = useQuery(\n    \"postData\",\n    async () => await axios.get(`/posts/${id}`)\n  );\n\n  return {\n    isLoading,\n    error,\n    data\n  };\n}\n\nexport function useUpdatePost(id, data) {\n  const queryClient = useQueryClient();\n  const { isLoading, isError: error, isSuccess, mutate } = useMutation(\n    (rec) => axios.put(`/posts/${id}`, rec),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(\"postData\");\n      }\n    }\n  );\n  return {\n    isLoading,\n    error,\n    isSuccess,\n    data,\n    mutate\n  };\n}\n","export default function Layout(props) {\n  return (\n    <div style={{ background: \"pink\", width: \"100%\", height: \"500px\" }}>\n      {props.children}\n    </div>\n  );\n}\n","import React from \"react\";\nimport usePosts from \"./queries/Countries.query\";\n\nexport default function Header() {\n  const { isLoading, error, data } = usePosts();\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"200px\",\n        outline: \"1px solid #000\",\n        overflow: \"scroll\"\n      }}\n    >\n      Header\n      {error ? `Error occurred ${error}` : null}\n      {isLoading ? \"Fetching data\" : data.map((d) => d.title).join(\",\")}\n    </div>\n  );\n}\n","import usePosts from \"./queries/Countries.query\";\n\nexport default function Footer() {\n  const { isLoading, error, data } = usePosts();\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"50px\",\n        outline: \"1px solid #000\",\n        overflow: \"scroll\"\n      }}\n    >\n      Footer\n      {error ? `Error occurred ${error}` : null}\n      {isLoading ? \"Fetching data\" : data.map((d) => d.title).join(\",\")}\n    </div>\n  );\n}\n","import React, { useState, useCallback, Suspense } from \"react\";\nconst Form = React.lazy(() => import(\"./Form\"));\nexport default function Table() {\n  const [showForm, setShowForm] = useState(false);\n\n  const toggleFormDisplay = useCallback(() => {\n    setShowForm(!showForm);\n  }, [showForm, setShowForm]);\n  return (\n    <div style={{ width: \"100%\", height: \"200px\", outline: \"1px solid #000\" }}>\n      Table\n      <button onClick={toggleFormDisplay}>\n        {showForm ? \"Hide Form\" : \"Show Form\"}\n      </button>\n      <Suspense fallback={<div>Loading... </div>}>\n        {showForm ? <Form /> : null}\n      </Suspense>\n    </div>\n  );\n}\n","import \"./styles.css\";\nimport Layout from \"./Layout\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Table from \"./Table\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <h1>React Query Pluggin</h1>\n      <Layout>\n        <Header />\n        <Footer />\n        <Table />\n      </Layout>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport App from \"./App\";\nconst queryClient = new QueryClient();\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}